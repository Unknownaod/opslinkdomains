<!DOCTYPE html>
<html>
<head>
  <title>Dashboard â€” OpsLink Domains</title>
  <meta charset="UTF-8" />
  <link rel="icon" href="/favicon.ico" />
  <style>
    body { background:#050810; color:white; font-family:Segoe UI, sans-serif; margin:0; }
    .container { max-width:1100px; margin:auto; padding:40px; }
    .title { font-size:32px; font-weight:700; margin-bottom:14px; }
    .card {
      background:#0b111c; border:1px solid rgba(148,163,184,.3);
      padding:24px; border-radius:14px; margin-top:28px;
    }
  </style>
</head>
<body>
<script src="/dashboard/navbar.js"></script>

<div class="container">
  <h1 class="title">Welcome back ðŸ‘‹</h1>
  <p id="userEmail" style="color:#93c5fd;"></p>

  <h2 style="margin-top:40px;">Account Summary</h2>

  <div class="card">
    <p><strong>Active Domains:</strong> <span id="activeDomains">0</span></p>
    <p><strong>DNS Zones:</strong> <span id="dnsZones">0</span></p>
    <p><strong>Billing History:</strong> <a href="./billing.html">View billing â†’</a></p>
  </div>
</div>

<script>
if (!localStorage.getItem("token")) window.location="/auth/login.html";

async function loadProfile() {
  const res = await fetch("/api/auth/me", {
    headers: { Authorization: localStorage.getItem("token") }
  });
  const data = await res.json();
  document.getElementById("userEmail").innerText = data.email;
  document.getElementById("activeDomains").innerText = data.domains.length || 0;
}
loadProfile();
</script>
</body>
</html>
